<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Video Wall</title>
    <style>
        /* --- RESET --- */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            overflow: hidden; /* CRITICAL: Hides any scrollbars */
        }

        /* --- HIDE SCROLLBARS FORCED --- */
        ::-webkit-scrollbar {
            display: none;
        }

        /* --- THE WALLPAPER DIV --- */
        #wall-display {
            width: 100vw;
            height: 100vh;
            background-color: #000;
            background-repeat: no-repeat;
            
            /* Smooth transition between slides */
            transition: opacity 0.5s ease;
        }
    </style>
</head>
<body>

    <div id="wall-display"></div>

    <div style="display:none;">
        <img id="preload-individual" src="">
        <img src="stretch.jpg">
    </div>

    <script>
        // --- CONFIGURATION ---
        const STRETCH_START_TIME = 30; 

        // --- SETUP ---
        const urlParams = new URLSearchParams(window.location.search);
        const screenId = urlParams.get('id') || '1';
        
        const displayDiv = document.getElementById('wall-display');
        const individualImage = 'screen' + screenId + '.jpg';
        
        // Preload
        document.getElementById('preload-individual').src = individualImage;

        // --- ROTATION SETTING ---
        // We rotate the whole DIV for screens 1 & 2
        if (screenId === '1' || screenId === '2') {
            displayDiv.style.transform = "rotate(180deg)";
        }

        function updateDisplay() {
            const now = new Date();
            const currentSecond = now.getSeconds();

            // --- PHASE 1: INDIVIDUAL MODE (0-29s) ---
            if (currentSecond < STRETCH_START_TIME) {
                // We set the background to the individual slide
                // 'contain' ensures we see the whole slide without cutting
                displayDiv.style.backgroundImage = "url('" + individualImage + "')";
                displayDiv.style.backgroundSize = "contain"; 
                displayDiv.style.backgroundPosition = "center";
            } 
            
            // --- PHASE 2: STRETCH MODE (30-59s) ---
            else {
                displayDiv.style.backgroundImage = "url('stretch.jpg')";
                
                // FORCE 200% ZOOM (Since we have 2x2 screens)
                displayDiv.style.backgroundSize = "200% 200%"; 
                
                // POSITIONING (Where do we start painting?)
                switch (screenId) {
                    case '1': // Top Left
                        displayDiv.style.backgroundPosition = "0% 0%";
                        break;
                    case '2': // Top Right
                        displayDiv.style.backgroundPosition = "100% 0%";
                        break;
                    case '3': // Bottom Left
                        displayDiv.style.backgroundPosition = "0% 100%";
                        break;
                    case '4': // Bottom Right
                        displayDiv.style.backgroundPosition = "100% 100%";
                        break;
                }
            }
        }

        // Run fast to catch the time change instantly
        setInterval(updateDisplay, 200);
        updateDisplay();
    </script>
</body>
</html>
