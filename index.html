<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Video Wall</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            overflow: hidden;
        }

        #wall-display {
            width: 100vw;
            height: 100vh;
            display: block;
        }
    </style>
</head>
<body>

    <img id="wall-display" src="" alt="Display">

    <script>
        // --- CONFIGURATION ---
        const TOTAL_CYCLE_TIME = 60; 
        const STRETCH_START_TIME = 30; 

        // --- SETUP ---
        const urlParams = new URLSearchParams(window.location.search);
        const screenId = urlParams.get('id');
        const imgElement = document.getElementById('wall-display');

        // --- ROTATION LOGIC (NEW) ---
        // If this is Screen 1 or Screen 2, rotate the display 180 degrees
        if (screenId === '1' || screenId === '2') {
            imgElement.style.transform = "rotate(180deg)";
        }

        function updateDisplay() {
            const now = new Date();
            const currentSecond = now.getSeconds();

            // --- PHASE 1: INDIVIDUAL MODE ---
            if (currentSecond < STRETCH_START_TIME) {
                // Looks for screen1.jpg, screen2.jpg (lowercase, no spaces)
                imgElement.src = 'screen' + screenId + '.jpg';
                
                imgElement.style.objectFit = "contain";
                imgElement.style.objectPosition = "center";
            } 
            
            // --- PHASE 2: STRETCH MODE ---
            else {
                // Looks for stretch.jpg (lowercase)
                imgElement.src = 'stretch.jpg';
                
                imgElement.style.objectFit = "cover"; 
                
                switch (screenId) {
                    case '1': // Top Left
                        imgElement.style.objectPosition = "0% 0%";
                        break;
                    case '2': // Top Right
                        imgElement.style.objectPosition = "100% 0%";
                        break;
                    case '3': // Bottom Left
                        imgElement.style.objectPosition = "0% 100%";
                        break;
                    case '4': // Bottom Right
                        imgElement.style.objectPosition = "100% 100%";
                        break;
                    default:
                        imgElement.style.objectPosition = "center";
                }
            }
        }

        setInterval(updateDisplay, 1000);
        updateDisplay();
    </script>
</body>
</html>
