<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IESV Video Wall - Screen 1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            overflow: hidden;
            cursor: none;
            transform: rotate(180deg);
        }
        
        /* BLACK BAR TO COVER CHROME OS SHELF */
        #top-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: #000;
            z-index: 9999;
        }
        
        #content {
            position: fixed;
            top: 200px;
            left: 0;
            width: 100%;
            height: calc(100vh - 200px);
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
        
        .slide-view {
            display: block;
        }
        
        .image-view {
            display: none;
        }
        
        .image-view img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <div id="top-bar"></div>
    <div id="content">
        <div class="slide-view">
            <iframe src=""></iframe>
        </div>
        <div class="image-view">
            <img src="" alt="Video Wall Background">
        </div>
    </div>

    <script>
        const SLIDES_URL = 'https://docs.google.com/presentation/d/e/2PACX-1vQXrj85LfePttbPNZDiEy7IYk_ylxqgGxkDLfzgdRTIyY28DzYYJL6Er9wigdwy2IGOsFmVR8WzzNwa/embed?start=true&loop=true&delayms=3000';
        const IMAGE_URL = 'https://iesv-swe.github.io/Video_Wall/stretched.jpg';
        const SWITCH_INTERVAL = 30000; // 30 seconds
        const REFRESH_INTERVAL = 3600000; // 1 hour
        
        let currentView = 'slides';
        
        function addCacheBuster(url) {
            const separator = url.includes('?') ? '&' : '?';
            const timestamp = new Date().getTime();
            console.log(`ðŸ”„ Cache-buster added: ${separator}cb=${timestamp}`);
            return `${url}${separator}cb=${timestamp}`;
        }
        
        function loadContent() {
            const slideFrame = document.querySelector('.slide-view iframe');
            const imageElement = document.querySelector('.image-view img');
            
            slideFrame.src = addCacheBuster(SLIDES_URL);
            imageElement.src = addCacheBuster(IMAGE_URL);
        }
        
        function switchContent() {
            const slideView = document.querySelector('.slide-view');
            const imageView = document.querySelector('.image-view');
            
            if (currentView === 'slides') {
                slideView.style.display = 'none';
                imageView.style.display = 'block';
                currentView = 'image';
            } else {
                slideView.style.display = 'block';
                imageView.style.display = 'none';
                currentView = 'slides';
            }
        }
        
        function init() {
            loadContent();
            setInterval(switchContent, SWITCH_INTERVAL);
            setInterval(() => {
                location.reload();
            }, REFRESH_INTERVAL);
        }
        
        window.addEventListener('load', init);
    </script>
</body>
</html>
